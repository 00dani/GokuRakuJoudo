[[https://travis-ci.com/yqrashawn/GokuRakuJoudo.svg?branch=master]]
[[https://coveralls.io/repos/github/yqrashawn/GokuRakuJoudo/badge.svg]]
* GokuRakuJoudo
Goku is a tool to let you manage your karabiner's configuration with ease.

Karbiner-Elements uses json as it's config file. It lead to thounds lines of
json (mine is over 5000). It makes it really hard to edit the config file.

Goku use the [[https://github.com/edn-format/edn][edn format]] to the rescue.

[[./Tutorial.org][Tutorial about how to write the configuration]]. If there's any question or
advice, just open an issue or ask me in telegram group or keybase group.
There're links below.

The project is inspired by [[https://github.com/nikitavoloboev/karabiner-generator][karabiner-generator]].

So how does it look like, karabiner.json vs karabiner.edn.

#+BEGIN_HTML
<p align="center"><img src="resources/images/karabiner.json.png" /></p>
<p align="center">karabiner.json</span>
#+END_HTML

#+BEGIN_HTML
<p align="center"><img src="resources/images/karabiner.edn.png" /></p>
<p align="center">karabiner.edn</span>
#+END_HTML

** Installation
#+begin_src shell
brew install yqrashawn/goku/goku
#+end_src

** Usage
Create a profile named "Goku" in karabiner gui tool and run the executable.

The program will read ~karabiner.edn~ and write your config into
~karabiner.json~'s Goku profile.

Run command ~goku~ to update karabiner.json once.
Run command ~gokuw~ to keep watching ~karabiner.edn~.
Run command ~brew services start~ to use it as a service.


The program will look for ~karabiner.edn~ and ~karabiner.json~ file under
~$XDG_CONFIG_HOME~ and ~$XDG_CONFIG_HOME/karabiner/~ (fall back to
~$HOME/.config/karabiner.edn~ and ~$HOME/.config/karabiner/karabiner.json~ if
~$XDG_CONFIG_HOME~ is not defined).

Note: The program can't find the right ~$HOME~ directory if you run service with
sudo permission. If you want to run this service as user, you need to give the
right permission to the log directory of the service. You can do this by simply
create the directory before first time starting the service.

#+begin_src shell
mkdir ~/Library/Logs/goku
#+end_src

** Discussion
- karabiner-generator's [[https://t.me/karabinermac][Telegram group]].
- karabiner keybase team
  #+begin_src shell
  keybase team request-access karabiner
  #+end_src

** Note
- consumer_key printing_key and mouse_key don't support special modifier i.e. :!Ca
- mouse key has no abbreviation keyword in main rules

** The name
It's the name of the song I'm lisening while writing this.
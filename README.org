[[https://travis-ci.com/yqrashawn/GokuRakuJoudo.svg?branch=master]]
[[https://coveralls.io/repos/github/yqrashawn/GokuRakuJoudo/badge.svg]]
* GokuRakuJoudo
NOTE: the goku executable doesn't work right now. Seems the graalvm compile make
it "too static", will be fixed today.

Goku is a tool to let you manage your karabiner's configuration with ease.

Karbiner-Elements uses json as it's config file. It lead to thounds lines of
json (mine is over 5000). It makes it really hard to edit the config file.

Goku use the [[https://github.com/edn-format/edn][edn format]] to the rescue.

[[./Tutorial.org][Tutorial about how to write the configuration]]. If there's any question or
advice, just open an issue or ask me in telegram group or keybase group.
There're links below.

The project is inspired by [[https://github.com/nikitavoloboev/karabiner-generator][karabiner-generator]].

So how does it looks like. [[https://github.com/yqrashawn/yqdotfiles/blob/master/.config/karabiner.edn][This]] is my config, it used to be more than 5000
lines. And  [[./resources/images/karabiner.json.png][karabiner.json]] vs  [[./resources/images/karabiner.edn.png][karabiner.edn]]

** Usage
Download the executable from [[https://github.com/yqrashawn/GokuRakuJoudo/releases][releases]].

Create a profile named "Goku" in karabiner gui tool and run the executable.

It will read ~karabiner.edn~ and write your config into ~karabiner.json~'s Goku
profile.

Program looking for ~karabiner.edn~ and ~karabiner.json~ file under
~$XDG_CONFIG_HOME~ and ~$XDG_CONFIG_HOME/karabiner/~ (fall back to
~$HOME/.config/karabiner.edn~ and ~$HOME/.config/karabiner/karabiner.json~ if
~$XDG_CONFIG_HOME~ is not defined).

You can also run it in watching mode by adding ~-w~ flag. This needs [[https://github.com/watchexec/watchexec][watchexec]]
to be installed. You can install it by ~brew install watchexec~.

Watching mode will watch for ~karabiner.edn~ file changes and update ~karabiner.json~.

The watching mode is still in construction, it won't log any error if there is one.

You can just use ~watchexec~ to run ~goku~ to get both watching feature and
error log. eg.
#+begin_src shell
# this assumes you've put goku into PATH
watchexec -r -w ~/.config/karabiner.edn goku
#+end_src

** Discussion
- karabiner-generator's [[https://t.me/karabinermac][Telegram group]].
- karabiner keybase team
  #+begin_src shell
  keybase team request-access karabiner
  #+end_src
** Note
- consumer_key printing_key and mouse_key don't support special modifier i.e. :!Ca
- mouse key has no abbreviation keyword in main rules

** The name
It's the name of the song I'm lisening while writing this.